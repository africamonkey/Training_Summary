# NWERC 2017

Date: 2017-01-22

## Practice Link

http://opentrains.snarknews.info/~ejudge/team.cgi?contest_id=006307

## 流水帐

黄镇4分钟交了B题，WA；8分钟AC。太粗心了！

黄镇AC完B题，范俭豪就想到了G怎么写。但是范俭豪写了很久没有写出来。王凯祺说“你这样搞就要崩盘了！”，于是敲了一发D，WA。结果是没开long long，改后58分钟AC。

范俭豪做完G交了一发，WA54，怀疑是精度问题，调了参交了几发……都是WA。范俭豪改了相对误差的判断就通过了。

黄镇一大早就想好了H题和I题怎么写了，于是依次写H、I，于1小时42分钟通过H。

黄镇写完I题就交了一发，1小时59分钟WA3，然后找王凯祺debug，王凯祺指出是DP保存方案时必须要开二位数组，改后2小时23分钟AC。

接下来K题就是个贪心模拟题，王凯祺想完就丢给范俭豪写了，2小时48分钟AC。

然后……就不会做了，黄镇搞A，范俭豪搞F，王凯祺搞J，都搞不出来……


## 题解

### A题

等我A了之后确定无误再写

### H题

先把所有的d加到c上，然后从1~10枚举一个值k，看看让c少加k，a多加k，分数能不能更大（保持a<=b，且d够用的情况下），一直加到不能再加为止。此时如果达到了a=b，就再枚举k，看看让c少加2k，a和b都多加k，能不能让分数更大，一直加到不能再加为止。输出答案

### I题

对于某种合法的方案，一定可以调整app安装的顺序，使得d-s大的排在前面，小的排在后面，而调整完后仍是合法的方案。（参考蓝书“突击战”相邻交换法）

我们把所有app按照d-s排序后，就可以DP了。状态转移方程类似01背包，只是转移时要考虑max(d,s)的约束

一个经验教训：需要注意的是，这道题需要输出方案，而且对顺序有要求，所以记录决策的数组就不能开一维数组或滚动数组，必须开二维数组，否则后面的结果会把前面的覆盖掉，输出方案时就可能不按照d-s的顺序了

### K题

首先建出完全二叉树，然后我们把1号选手放在深度最小的节点。首先我们得要保证1号选手晋级到上一层概率尽量大，那么跟他打的一定是最小的；然后保证晋级到再上一层概率尽量大，那么跟这两个胜者打的是最小的……其实就是把除1以外的其他人从小到大排序，依次填入叶子节点。然后就是概率题了，O(n^2)处理每个节点胜者及其概率。
